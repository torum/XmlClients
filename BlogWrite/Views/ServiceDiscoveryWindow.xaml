<fw:AcrylicWindow x:Class="BlogWrite.Views.ServiceDiscoveryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BlogWrite.Views"
        mc:Ignorable="d"
        Background="Black"
                  
        BorderThickness="0.8 0.8 0.8 0.8"
        
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
                  
        xmlns:ctr="clr-namespace:BlogWrite.Controls"
                  
        xmlns:fw="clr-namespace:SourceChord.FluentWPF;assembly=FluentWPF"
        fw:AcrylicWindow.ShowTitleBar="True"
        fw:AcrylicWindow.ExtendViewIntoTitleBar="True"
        fw:AcrylicWindow.TintOpacity="0.4"
        fw:AcrylicWindow.TintColor="Silver"
        fw:AcrylicWindow.FallbackColor="Gainsboro"
        
        Title="Service Discovery" Height="450" Width="450"
        WindowStartupLocation="CenterOwner">
    <fw:AcrylicWindow.Style>
        <Style TargetType="Window">
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsBusy}" Value="True">
                    <Setter Property="Cursor" Value="Wait" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </fw:AcrylicWindow.Style>
    <Grid x:Name="LayoutGrid"
        Background="{StaticResource ContentAreaBackgroundBrush}" 
          Opacity="0.7">
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="32"/>
            <RowDefinition Height="32"/>
            <RowDefinition Height="32"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="24"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="24"/>
            <ColumnDefinition Width="32"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="32"/>
            <ColumnDefinition Width="24"/>
        </Grid.ColumnDefinitions>

        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3"
                   Text="Service Discovery" Margin="8 4 4 4" VerticalAlignment="Center" HorizontalAlignment="Left" />

        <TextBox Grid.Row="2" Grid.Column="2"
                VerticalAlignment="Center"
                HorizontalAlignment="Stretch"
                 Text="{Binding WebsiteOrEndpointUrl, UpdateSourceTrigger=PropertyChanged}"
                 Margin="4">
            <TextBox.Style>
                <Style TargetType="TextBox" BasedOn="{StaticResource TransparentTextBoxStyle}" 
                           xmlns:sys="clr-namespace:System;assembly=mscorlib">
                    <Setter Property="Background" Value="Transparent" />
                    <Style.Resources>
                        <VisualBrush x:Key="CueBannerBrush"
                                                         AlignmentX="Left"
                                                         AlignmentY="Center"
                                                         Stretch="None">
                            <VisualBrush.Visual>
                                <Label Content="https://... (Enter your blog URL or API endpoint)"
                                                           FontStyle="Italic"
                                                           Foreground="DarkGray" />
                            </VisualBrush.Visual>
                        </VisualBrush>
                    </Style.Resources>
                    <Style.Triggers>
                        <Trigger Property="Text" Value="{x:Static sys:String.Empty}">
                            <Setter Property="Background" Value="{StaticResource CueBannerBrush}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter Property="Background" Value="Transparent" />
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </TextBox.Style>
        </TextBox>
        
        <Button Grid.Row="2" Grid.Column="3" 
                VerticalAlignment="Center"
                HorizontalAlignment="Center"
                Height="24" Width="24" 
                Foreground="#999999" 
                Background="Transparent" 
                IsEnabled="{Binding IsButtonEnabled}"
                Command="{Binding CheckEndpointCommand}"
                Style="{StaticResource PathButton}">
            M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,4.5L8.95,4.53C8.71,5.05 8.34,5.93 8.07,7H10.93C10.66,5.93 10.29,5.05 10.05,4.53C9.87,4.5 9.69,4.5 9.5,4.5M13.83,7C13.24,5.97 12.29,5.17 11.15,4.78C11.39,5.31 11.7,6.08 11.93,7H13.83M5.17,7H7.07C7.3,6.08 7.61,5.31 7.85,4.78C6.71,5.17 5.76,5.97 5.17,7M4.5,9.5C4.5,10 4.58,10.53 4.73,11H6.87L6.75,9.5L6.87,8H4.73C4.58,8.47 4.5,9 4.5,9.5M14.27,11C14.42,10.53 14.5,10 14.5,9.5C14.5,9 14.42,8.47 14.27,8H12.13C12.21,8.5 12.25,9 12.25,9.5C12.25,10 12.21,10.5 12.13,11H14.27M7.87,8L7.75,9.5L7.87,11H11.13C11.21,10.5 11.25,10 11.25,9.5C11.25,9 11.21,8.5 11.13,8H7.87M9.5,14.5C9.68,14.5 9.86,14.5 10.03,14.47C10.28,13.95 10.66,13.07 10.93,12H8.07C8.34,13.07 8.72,13.95 8.97,14.47L9.5,14.5M13.83,12H11.93C11.7,12.92 11.39,13.69 11.15,14.22C12.29,13.83 13.24,13.03 13.83,12M5.17,12C5.76,13.03 6.71,13.83 7.85,14.22C7.61,13.69 7.3,12.92 7.07,12H5.17Z
        </Button>
        
        <!--
        <ctr:DiscoveryWebBrowser x:Name="DiscoveryWebBrowser"
                    Grid.Row="4" Grid.Column="2"
                                 Visibility="Hidden">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="LoadCompleted">
                    <i:InvokeCommandAction  Command="{Binding WindowClosingCommand}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </ctr:DiscoveryWebBrowser>
        -->
        
    </Grid>
</fw:AcrylicWindow>
